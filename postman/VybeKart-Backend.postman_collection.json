{
  "info": {
    "_postman_id": "vybekart-backend-001",
    "name": "VybeKart Backend",
    "description": "API collection for VybeKart NestJS backend.\n\nCollection variables: base_url (default http://localhost:3000), access_token (set automatically after Login/Register).\nOptional: stream_id, product_id, order_id, refresh_token.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "variable": [
    { "key": "base_url", "value": "http://localhost:3000" },
    { "key": "access_token", "value": "" },
    { "key": "refresh_token", "value": "" },
    { "key": "stream_id", "value": "" },
    { "key": "product_id", "value": "" },
    { "key": "order_id", "value": "" }
  ],
  "item": [
    {
      "name": "Health",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/health",
              "host": ["{{base_url}}"],
              "path": ["health"]
            }
          }
        }
      ]
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    var json = pm.response.json();",
                  "    if (json.access_token) {",
                  "        pm.collectionVariables.set('access_token', json.access_token);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"seller@test.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/login",
              "host": ["{{base_url}}"],
              "path": ["auth", "login"]
            }
          }
        },
        {
          "name": "Refresh Token",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200) {",
                  "    var json = pm.response.json();",
                  "    if (json.access_token) {",
                  "        pm.collectionVariables.set('access_token', json.access_token);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/refresh",
              "host": ["{{base_url}}"],
              "path": ["auth", "refresh"]
            }
          }
        },
        {
          "name": "Register Seller",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    var json = pm.response.json();",
                  "    if (json.access_token) {",
                  "        pm.collectionVariables.set('access_token', json.access_token);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"seller@test.com\",\n  \"password\": \"password123\",\n  \"name\": \"Test Seller\",\n  \"businessName\": \"My Shop\",\n  \"phone\": \"+919876543210\",\n  \"gstNumber\": \"29XXXXX1234X1Z5\",\n  \"description\": \"Handmade fashion and accessories\",\n  \"categoryIds\": [],\n  \"pickupAddress\": { \"line1\": \"123 Shop St\", \"city\": \"Mumbai\", \"state\": \"MH\", \"zip\": \"400001\" },\n  \"bankAccount\": \"1234567890\",\n  \"ifscCode\": \"HDFC0001234\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register/seller",
              "host": ["{{base_url}}"],
              "path": ["auth", "register", "seller"]
            }
          }
        },
        {
          "name": "Register Buyer",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 201 || pm.response.code === 200) {",
                  "    var json = pm.response.json();",
                  "    if (json.access_token) {",
                  "        pm.collectionVariables.set('access_token', json.access_token);",
                  "    }",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"buyer@test.com\",\n  \"password\": \"password123\",\n  \"name\": \"Test Buyer\",\n  \"phone\": \"+919876543210\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/register/buyer",
              "host": ["{{base_url}}"],
              "path": ["auth", "register", "buyer"]
            }
          }
        },
        {
          "name": "Send OTP",
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"seller@test.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/otp/send",
              "host": ["{{base_url}}"],
              "path": ["auth", "otp", "send"]
            }
          }
        },
        {
          "name": "Verify OTP",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "if (pm.response.code === 200 && !pm.response.json().isNewUser && pm.response.json().access_token) {",
                  "    pm.collectionVariables.set('access_token', pm.response.json().access_token);",
                  "}"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"seller@test.com\",\n  \"code\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/auth/otp/verify",
              "host": ["{{base_url}}"],
              "path": ["auth", "otp", "verify"]
            }
          }
        }
      ]
    },
    {
      "name": "Categories",
      "item": [
        {
          "name": "List Categories",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/categories",
              "host": ["{{base_url}}"],
              "path": ["categories"]
            }
          }
        },
        {
          "name": "Get Category by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/categories/:id",
              "host": ["{{base_url}}"],
              "path": ["categories", ":id"],
              "variable": [{ "key": "id", "value": "" }]
            }
          }
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "List Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/users?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["users"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            }
          }
        }
      ]
    },
    {
      "name": "Sellers",
      "item": [
        {
          "name": "Get My Seller Profile",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/sellers/profile",
              "host": ["{{base_url}}"],
              "path": ["sellers", "profile"]
            }
          }
        },
        {
          "name": "Update Seller Profile",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "PATCH",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"description\": \"Updated shop description\",\n  \"bankAccount\": \"9876543210\",\n  \"ifscCode\": \"HDFC0005678\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/sellers/profile",
              "host": ["{{base_url}}"],
              "path": ["sellers", "profile"]
            }
          }
        },
        {
          "name": "Get Pending Sellers (Admin)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/sellers/pending",
              "host": ["{{base_url}}"],
              "path": ["sellers", "pending"]
            }
          }
        },
        {
          "name": "Approve Seller (Admin)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/sellers/:seller_id/approve",
              "host": ["{{base_url}}"],
              "path": ["sellers", ":seller_id", "approve"],
              "variable": [{ "key": "seller_id", "value": "" }]
            }
          }
        },
        {
          "name": "Reject Seller (Admin)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "PATCH",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"reason\": \"Incomplete documentation\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/sellers/:seller_id/reject",
              "host": ["{{base_url}}"],
              "path": ["sellers", ":seller_id", "reject"],
              "variable": [{ "key": "seller_id", "value": "" }]
            }
          }
        }
      ]
    },
    {
      "name": "Buyers",
      "item": [
        {
          "name": "Get My Buyer Profile",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/buyers/profile",
              "host": ["{{base_url}}"],
              "path": ["buyers", "profile"]
            }
          }
        }
      ]
    },
    {
      "name": "Streams",
      "item": [
        {
          "name": "Create Stream",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Live Sneaker Sale\",\n  \"description\": \"Vintage kicks today\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/streams",
              "host": ["{{base_url}}"],
              "path": ["streams"]
            }
          }
        },
        {
          "name": "List Active Streams",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/streams/active?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["streams", "active"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "Get Stream by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/streams/{{stream_id}}",
              "host": ["{{base_url}}"],
              "path": ["streams", "{{stream_id}}"]
            }
          }
        },
        {
          "name": "Update Stream",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "PATCH",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Stream Title\",\n  \"description\": \"Updated description\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/streams/{{stream_id}}",
              "host": ["{{base_url}}"],
              "path": ["streams", "{{stream_id}}"]
            }
          }
        },
        {
          "name": "Stop Stream",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/streams/{{stream_id}}/stop",
              "host": ["{{base_url}}"],
              "path": ["streams", "{{stream_id}}", "stop"]
            }
          }
        },
        {
          "name": "Delete Stream",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/streams/{{stream_id}}",
              "host": ["{{base_url}}"],
              "path": ["streams", "{{stream_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Products",
      "item": [
        {
          "name": "Create Product",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Vintage Air Max\",\n  \"description\": \"Classic 90s\",\n  \"price\": 129.99,\n  \"stock\": 10,\n  \"images\": [\"https://example.com/img1.jpg\"]\n}"
            },
            "url": {
              "raw": "{{base_url}}/products",
              "host": ["{{base_url}}"],
              "path": ["products"]
            }
          }
        },
        {
          "name": "List All Products",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["products"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "My Listings",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/my-listings?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["products", "my-listings"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "Get Product by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}"]
            }
          }
        },
        {
          "name": "Update Product",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "PATCH",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Updated Product Name\",\n  \"price\": 99.99,\n  \"stock\": 5\n}"
            },
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}"]
            }
          }
        },
        {
          "name": "Delete Product",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/products/{{product_id}}",
              "host": ["{{base_url}}"],
              "path": ["products", "{{product_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Orders",
      "item": [
        {
          "name": "Create Order",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "POST",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"items\": [\n    { \"productId\": \"{{product_id}}\", \"quantity\": 2 }\n  ],\n  \"shippingAddress\": \"123 Main St, City, PIN\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/orders",
              "host": ["{{base_url}}"],
              "path": ["orders"]
            }
          }
        },
        {
          "name": "My Orders",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/orders?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["orders"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "Seller Orders",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/orders/seller?page=1&limit=20",
              "host": ["{{base_url}}"],
              "path": ["orders", "seller"],
              "query": [
                { "key": "page", "value": "1" },
                { "key": "limit", "value": "20" }
              ]
            }
          }
        },
        {
          "name": "Get Order by ID",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}"]
            }
          }
        },
        {
          "name": "Ship Order (Seller)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "PATCH",
            "header": [{ "key": "Content-Type", "value": "application/json" }],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"trackingId\": \"TRK123456789\",\n  \"carrierName\": \"BlueDart\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}/ship",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}", "ship"]
            }
          }
        },
        {
          "name": "Deliver Order (Seller)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [{ "key": "token", "value": "{{access_token}}", "type": "string" }]
            },
            "method": "PATCH",
            "header": [],
            "url": {
              "raw": "{{base_url}}/orders/{{order_id}}/deliver",
              "host": ["{{base_url}}"],
              "path": ["orders", "{{order_id}}", "deliver"]
            }
          }
        }
      ]
    }
  ]
}
